CREATE TABLE  Charity_Pages (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    content NVARCHAR2(255),
    slide1 NVARCHAR2(255),
    slide2 NVARCHAR2(255),
    slide3 NVARCHAR2(255),
    logo NVARCHAR2(255),
    Title VARCHAR2(255),
    Email VARCHAR2(255),
    Phone VARCHAR2(255),
    Location VARCHAR2(255)

);

CREATE TABLE  Charity_contact (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    contactname NVARCHAR2(255),
    email NVARCHAR2(255),
    phone NVARCHAR2(255),
    subject NVARCHAR2(255),
    message NVARCHAR2(255),
    datecreated DATE,
    pageId NUMBER, 
    
    FOREIGN KEY (pageId) REFERENCES Charity_Pages(Id) ON DELETE CASCADE
);

CREATE TABLE  Charity_testimonial (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    testimonial NVARCHAR2(255),
    status NVARCHAR2(255),
    DateTestimonial DATE,
    userId NUMBER,
    FOREIGN KEY (userId) REFERENCES Charity_user(Id) ON DELETE CASCADE
);

CREATE TABLE  Charity_role (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Rolename NVARCHAR2(255)
);

CREATE TABLE Charity_user (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Email NVARCHAR2(255),
    username NVARCHAR2(255),
    Password NVARCHAR2(255),
    image NVARCHAR2(255),
    Verificationcode NVARCHAR2(255),
    VerificationCodeExpiration Date ,
    Roleid NUMBER,
    FOREIGN KEY (Roleid) REFERENCES Charity_role(Id) ON DELETE CASCADE

);

CREATE TABLE Charity_category (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    categoryname NVARCHAR2(255),
    Image NVARCHAR2(255)
);

CREATE TABLE Charity (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Charityname NVARCHAR2(255),
    mission NVARCHAR2(255),
    image NVARCHAR2(255),
    Status NVARCHAR2(255),
    Address VARCHAR2(255),
    CREATEDDATE DATE,
    categoryid NUMBER,
    price DECIMAL(10, 2),
    TotalPrice DECIMAL(10, 0),
    MinPrice DECIMAL(10, 0),
    GoalPrice DECIMAL(10, 0),
    Longitude  NUMBER,
    Latitude  NUMBER,
    userId NUMBER,
    FOREIGN KEY (userId) REFERENCES Charity_user(Id) ON DELETE CASCADE,
    FOREIGN KEY (categoryid) REFERENCES Charity_category(Id) ON DELETE CASCADE
);

CREATE TABLE Charity_Donation (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    amount DECIMAL(10, 2),
    Donationdate DATE,
    status NVARCHAR2(255),
    Charityid NUMBER,
    Userid NUMBER,
    FOREIGN KEY (Charityid) REFERENCES Charity(Id) ON DELETE CASCADE,
    FOREIGN KEY (Userid) REFERENCES Charity_user(Id) ON DELETE CASCADE
);

CREATE TABLE  Charity_Visa_Card (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    cardnumber VARCHAR2(16),
    cardholdernumber VARCHAR2(255),
    expirationdate VARCHAR2(20),
    cvv VARCHAR2(3),
    balance DECIMAL(10, 2)
);
CREATE TABLE  CHARITY_NOTIFICATION (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOTIFICATION VARCHAR2(255),
    NOTIFICATIONDATE date,
    Userid NUMBER,
    FOREIGN KEY (Userid) REFERENCES Charity_user(Id) ON DELETE CASCADE
);

CREATE TABLE Charity_Issue (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    IssueDescription NVARCHAR2(255),
    DateReported DATE,
    Userid NUMBER,
    status NVARCHAR2(255),
    response NVARCHAR2(255),
    FOREIGN KEY (Userid) REFERENCES Charity_user(Id) ON DELETE CASCADE
);




DROP TABLE CHARITY_NOTIFICATION;
DROP TABLE Charity_Issue;
DROP TABLE Charity;
DROP TABLE Charity_Visa_Card;
DROP TABLE Charity_Donation;
DROP TABLE Charity_category;
DROP TABLE Charity_pages;
DROP TABLE Charity_contact;
DROP TABLE Charity_testimonial;
DROP TABLE Charity_role;
DROP TABLE Charity_user;
DROP TABLE Charity_category;